[debug] [2020-02-14T14:32:41.064Z] ----------------------------------------------------------------------
[debug] [2020-02-14T14:32:41.064Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\somer\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2020-02-14T14:32:41.064Z] CLI Version:   7.13.0
[debug] [2020-02-14T14:32:41.071Z] Platform:      win32
[debug] [2020-02-14T14:32:41.071Z] Node Version:  v12.9.1
[debug] [2020-02-14T14:32:41.071Z] Time:          Fri Feb 14 2020 09:32:41 GMT-0500 (Eastern Standard Time)
[debug] [2020-02-14T14:32:41.071Z] ----------------------------------------------------------------------
[debug] [2020-02-14T14:32:41.071Z] 
[debug] [2020-02-14T14:32:41.071Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-02-14T14:32:41.071Z] > authorizing via signed-in user
[debug] [2020-02-14T14:32:41.071Z] [iam] checking project ourprobes-258320 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2020-02-14T14:32:41.071Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2020-02-14T14:32:41.071Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2020-02-14T14:32:41.186Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:41.186Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/ourprobes-258320:testIamPermissions  

[debug] [2020-02-14T14:32:41.403Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'ourprobes-258320'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script.
[debug] [2020-02-14T14:32:50.912Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/iot": "^1.7.0",
    "firebase-admin": "~6.0.0",
    "firebase-functions": "^3.3.0"
  },
  "devDependencies": {
    "tslint": "^5.20.1",
    "typescript": "^3.7.5"
  },
  "private": true,
  "engines": {
    "node": "8"
  }
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2020-02-14T14:32:50.919Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/ourprobes-258320/services/cloudfunctions.googleapis.com  
 
[debug] [2020-02-14T14:32:50.920Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/ourprobes-258320/services/runtimeconfig.googleapis.com  
 
[debug] [2020-02-14T14:32:51.242Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:51.242Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2020-02-14T14:32:51.248Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/ourprobes-258320/adminSdkConfig  
 
[debug] [2020-02-14T14:32:51.518Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2020-02-14T14:32:51.521Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/ourprobes-258320/configs  
 
[debug] [2020-02-14T14:32:51.828Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (64.91 KB) for uploading
[debug] [2020-02-14T14:32:52.143Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/ourprobes-258320/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2020-02-14T14:32:52.814Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:52.814Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-f7cef756-53e3-4a7f-b163-2dda21aee11c/a8f591c1-240f-4acd-9cc1-96a8e6be508a.zip?GoogleAccessId=service-159351003399@gcf-admin-robot.iam.gserviceaccount.com&Expires=1581692572&Signature=cAi8MtY4h2Bx0D5Fkdb3F1iDqCCkOYpc3Wd%2FaPcmsiGODTcpZs5bieAnYfrftiWfs6uz6qbWHd1vrSiU6iNh%2BCfp5wB4yVLBPu7eA0G%2BZAbhIB%2FY%2FuwteSYpTBJYX7%2FO84szOvHnPyCTJd9JNHOyDoBZGrWKctSxsaT518k6sUlj8Db6aNdi3MmC73ds1CoDlR8h1duvZSzbLmJz7Umo5EVplwirR%2F%2F%2BLW3L3GVH7wZqrPeAP3kkLXcsNmX3KoJynhqVPUURkmH%2BwHBRCNpSaQfdnY%2BDjfoImqt8fCF%2ByEmoH5YB7T5yspCd5kIHcF%2F%2BaQ4o18aXeM15Y8FH9h7oqA%3D%3D  
 <request body omitted>
[debug] [2020-02-14T14:32:53.008Z] <<< HTTP RESPONSE 200
[info] +  functions: functions folder uploaded successfully
[debug] [2020-02-14T14:32:53.012Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/ourprobes-258320/locations/-/functions  
 
[debug] [2020-02-14T14:32:53.483Z] <<< HTTP RESPONSE 200
[info] i  functions: updating Node.js 8 function userCreate(us-central1)...
[debug] [2020-02-14T14:32:53.498Z] Trigger is:  {"eventTrigger":{"resource":"projects/ourprobes-258320/databases/(default)/documents/users/{uid}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 8 function probeEventsOnPublish(us-central1)...
[debug] [2020-02-14T14:32:53.498Z] Trigger is:  {"eventTrigger":{"resource":"projects/ourprobes-258320/topics/probe-events","eventType":"google.pubsub.topic.publish","service":"pubsub.googleapis.com"}}
[info] i  functions: updating Node.js 8 function deviceCreate(us-central1)...
[debug] [2020-02-14T14:32:53.499Z] Trigger is:  {"eventTrigger":{"resource":"projects/ourprobes-258320/databases/(default)/documents/devices/{id}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 8 function deviceUpdate(us-central1)...
[debug] [2020-02-14T14:32:53.505Z] Trigger is:  {"eventTrigger":{"resource":"projects/ourprobes-258320/databases/(default)/documents/devices/{id}","eventType":"providers/cloud.firestore/eventTypes/document.update","service":"firestore.googleapis.com"}}
[debug] [2020-02-14T14:32:53.506Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/ourprobes-258320/services/cloudscheduler.googleapis.com  
 
[debug] [2020-02-14T14:32:53.795Z] <<< HTTP RESPONSE 200
[info] +  scheduler: all necessary APIs are enabled
[debug] [2020-02-14T14:32:53.800Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/ourprobes-258320/locations/us-central1/functions/userCreate {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2020-02-14T14:32:53.801Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/ourprobes-258320/locations/us-central1/functions/probeEventsOnPublish {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2020-02-14T14:32:53.801Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/ourprobes-258320/locations/us-central1/functions/deviceCreate {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2020-02-14T14:32:53.802Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/ourprobes-258320/locations/us-central1/functions/deviceUpdate {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2020-02-14T14:32:54.414Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.414Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.414Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.414Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.414Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS91c2VyQ3JlYXRlL1h6MFBWcTBsUGRF  
 
[debug] [2020-02-14T14:32:54.414Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9wcm9iZUV2ZW50c09uUHVibGlzaC95dTBQaFZuN3oxZw  
 
[debug] [2020-02-14T14:32:54.414Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9kZXZpY2VDcmVhdGUvQi1SNVVoUXB4dU0  
 
[debug] [2020-02-14T14:32:54.414Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9kZXZpY2VVcGRhdGUvRF9qRElZLWwwMVU  
 
[debug] [2020-02-14T14:32:54.564Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.709Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.709Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:54.724Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:56.565Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9kZXZpY2VVcGRhdGUvRF9qRElZLWwwMVU  
 
[debug] [2020-02-14T14:32:56.709Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS91c2VyQ3JlYXRlL1h6MFBWcTBsUGRF  
 
[debug] [2020-02-14T14:32:56.710Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9wcm9iZUV2ZW50c09uUHVibGlzaC95dTBQaFZuN3oxZw  
 
[debug] [2020-02-14T14:32:56.725Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9kZXZpY2VDcmVhdGUvQi1SNVVoUXB4dU0  
 
[debug] [2020-02-14T14:32:56.887Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:56.994Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:57.021Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:57.038Z] <<< HTTP RESPONSE 200
[debug] [2020-02-14T14:32:58.888Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9kZXZpY2VVcGRhdGUvRF9qRElZLWwwMVU  
 
[debug] [2020-02-14T14:32:58.996Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9kZXZpY2VDcmVhdGUvQi1SNVVoUXB4dU0  
 
[debug] [2020-02-14T14:32:59.021Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS9wcm9iZUV2ZW50c09uUHVibGlzaC95dTBQaFZuN3oxZw  
 
[debug] [2020-02-14T14:32:59.039Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b3VycHJvYmVzLTI1ODMyMC91cy1jZW50cmFsMS91c2VyQ3JlYXRlL1h6MFBWcTBsUGRF  
 
